
# Adversarial Evaluation (triples success rate)
Congratulations - you made it to the adversarial evaluation and should now have predictions \
generated by EvoBind2.
\
The adversarial evaluation here is based on [AlphaFold-multimer](https://www.biorxiv.org/content/10.1101/2021.10.04.463034v2), which is available under the
[Apache License, Version 2.0](http://www.apache.org/licenses/LICENSE-2.0).  \
The AlphaFold-multimer parameters are made available under the terms of the [CC BY 4.0 license](https://creativecommons.org/licenses/by/4.0/legalcode) and have not been modified.
The adversarial evaluation and the loss function used is made available under the terms of the [CC BY-NC 4.0 license](https://creativecommons.org/licenses/by-nc/4.0/)
\
**You may not use these files except in compliance with the licenses.**

# Setup
1. Install all databases from https://github.com/google-deepmind/alphafold (follow the instructions there).

2. Get the AFM parameters (v 2022_03_02).
```
mkdir -p data/params
wget https://storage.googleapis.com/alphafold/alphafold_params_2022-03-02.tar
tar -xvf alphafold_params_2022-03-02.tar
mv params_model_1_multimer_v2.npz data/params/
rm *.npz
rm alphafold_params_2022-03-02.tar
```

3. Generate input features for your target protein (we only want to do this once)
Make sure that the paths in the runscript below match those of your databases
```
bash gen_AFM_feats.sh
```

4. Predict with AFM
(there is a test case here with pre-generated features which you can simply call)
```
bash predict_AFM.sh
```
This script will continue where it left off if it would be interrupted for some reason.

5. Score adversarial predictions (loss 2)
```
score_afm_evo.sh
```
\
This script generates a csv with the AFM peptide plDDT and loss 2.
We leave the interpretation of the results in combination with the EvoBind loss (loss 1)
to the user of this software.
